<!-- Views/ReadableTabView.axaml -->
<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:views="clr-namespace:CbetaTranslator.App.Views"
             x:Class="CbetaTranslator.App.Views.ReadableTabView">

	<Grid RowDefinitions="Auto,*,Auto">

		<!-- Ctrl+F Search Bar -->
		<Border Name="FindBar"
				Grid.Row="0"
				Background="#CC1E1E1E"
				Padding="8"
				CornerRadius="8"
				Margin="0,0,0,8"
				IsVisible="False">
			<DockPanel LastChildFill="True">
				<TextBlock Name="FindScope"
						   DockPanel.Dock="Left"
						   Foreground="#FFCCCCCC"
						   VerticalAlignment="Center"
						   Margin="0,0,10,0"
						   Text="Find:" />

				<TextBox Name="FindQuery"
						 Watermark="Find…"
						 Background="#FF2B2B2B"
						 Foreground="#FFEAEAEA"
						 BorderBrush="#FF444444"
						 BorderThickness="1"
						 MinWidth="260"
						 VerticalAlignment="Center"/>

				<StackPanel DockPanel.Dock="Right" Orientation="Horizontal" Spacing="8" Margin="10,0,0,0">
					<TextBlock Name="FindCount"
							   Foreground="#FFCCCCCC"
							   VerticalAlignment="Center"
							   Text="0/0" />

					<Button Name="BtnPrev" Content="Prev" Background="#33FFFFFF" />
					<Button Name="BtnNext" Content="Next" Background="#33FFFFFF" />
					<Button Name="BtnCloseFind" Content="✕" Background="#33FFFFFF" />
				</StackPanel>
			</DockPanel>
		</Border>

		<!-- Main content -->
		<Grid Grid.Row="1" ColumnDefinitions="1*,Auto,2*" Margin="0">

			<!-- Original -->
			<Border Background="#FF202020" BorderBrush="#FF303030" BorderThickness="1" CornerRadius="6">
				<Grid RowDefinitions="Auto,*">
					<Border Background="#FF202020" Padding="8">
						<TextBlock Text="Original (read-only)" Foreground="#FFCCCCCC"/>
					</Border>

					<Grid Grid.Row="1">
						<TextBox Name="EditorOriginal"
								 IsReadOnly="True"
								 AcceptsReturn="True"
								 TextWrapping="Wrap"
								 FontFamily="Consolas"
								 ScrollViewer.VerticalScrollBarVisibility="Visible"
								 ScrollViewer.HorizontalScrollBarVisibility="Disabled"/>

						<views:SearchHighlightOverlay Name="HlOriginal"
													  IsHitTestVisible="False"/>
					</Grid>
				</Grid>
			</Border>

			<GridSplitter Grid.Column="1" Width="6" Background="#FF444444"/>

			<!-- Translated -->
			<Border Grid.Column="2" Background="#FF202020" BorderBrush="#FF303030" BorderThickness="1" CornerRadius="6">
				<Grid RowDefinitions="Auto,*">
					<Border Background="#FF202020" Padding="8">
						<TextBlock Text="Translated (readable view)" Foreground="#FFCCCCCC"/>
					</Border>

					<Grid Grid.Row="1">
						<TextBox Name="EditorTranslated"
								 IsReadOnly="True"
								 AcceptsReturn="True"
								 TextWrapping="Wrap"
								 FontFamily="Consolas"
								 ScrollViewer.VerticalScrollBarVisibility="Visible"
								 ScrollViewer.HorizontalScrollBarVisibility="Disabled"/>

						<views:SearchHighlightOverlay Name="HlTranslated"
													  IsHitTestVisible="False"/>

					</Grid>
				</Grid>
			</Border>

		</Grid>

		<!-- Notes panel (click marker area to open; no tooltip usage) -->
		<Border Grid.Row="2"
				Name="NotesPanel"
				IsVisible="True"
				Background="#FF1E1E1E"
				BorderBrush="#FF3A3A3A"
				BorderThickness="1"
				CornerRadius="8"
				Margin="0,8,0,0"
				Padding="10">
			<Grid RowDefinitions="Auto,*" ColumnDefinitions="*,Auto">
				<TextBlock Name="NotesHeader"
						   Grid.Row="0" Grid.Column="0"
						   Foreground="#FFCCCCCC"
						   FontWeight="SemiBold"
						   Text="Note" />

				<Button Name="BtnCloseNotes"
						Grid.Row="0" Grid.Column="1"
						Content="✕"
						Background="#33FFFFFF"
						Padding="8,2" />

				<ScrollViewer Grid.Row="1"
							  Grid.ColumnSpan="2"
							  MaxHeight="160"
							  VerticalScrollBarVisibility="Auto"
							  HorizontalScrollBarVisibility="Disabled">
					<TextBox Name="NotesBody"
						 IsReadOnly="True"
						 AcceptsReturn="True"
						 TextWrapping="Wrap"
						 Background="Transparent"
						 BorderThickness="0"
						 CaretBrush="#FFCCCCCC"
						 Foreground="#FFEAEAEA"/>
				</ScrollViewer>
			</Grid>
		</Border>

	</Grid>
</UserControl>
