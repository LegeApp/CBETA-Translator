<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:views="clr-namespace:CbetaTranslator.App.Views"
             x:Class="CbetaTranslator.App.Views.TranslationTabView">

	<Grid RowDefinitions="Auto,Auto,*" ColumnDefinitions="1*,Auto,1*">

		<!-- Button bar -->
		<Border Grid.Row="0"
				Grid.ColumnSpan="3"
				Background="#FF1E1E1E"
				Padding="8"
				CornerRadius="6">
			<StackPanel Orientation="Horizontal" Spacing="8">
				<Button Name="BtnCopyPrompt"
						Focusable="False"
						Content="Copy selection + prompt"
						Background="#33FFFFFF"/>

				<Button Name="BtnPasteReplace"
						Focusable="False"
						Content="Paste replace selection"
						Background="#33FFFFFF"/>

				<Button Name="BtnSelectNext50Tags"
						Focusable="False"
						Content="Select next 100 tags"
						Background="#33FFFFFF"/>

				<Button Name="BtnSaveTranslated"
						Focusable="False"
						Content="Save translated XML"
						Background="#33FFFFFF"/>

				<Button Name="BtnCheckXml"
						Content="Check XML (hacky)"
						Background="#33FFFFFF"/>

				<TextBlock Name="TxtHint"
						   Foreground="#FFCCCCCC"
						   VerticalAlignment="Center"
						   Margin="8,0,0,0"/>
			</StackPanel>
		</Border>

		<!-- Ctrl+F Search Bar -->
		<Border Name="FindBar"
				Grid.Row="1"
				Grid.ColumnSpan="3"
				Background="#CC1E1E1E"
				Padding="8"
				CornerRadius="8"
				Margin="0,8,0,0"
				IsVisible="False">
			<DockPanel LastChildFill="True">
				<TextBlock Name="FindScope"
						   DockPanel.Dock="Left"
						   Foreground="#FFCCCCCC"
						   VerticalAlignment="Center"
						   Margin="0,0,10,0"
						   Text="Find:" />

				<TextBox Name="FindQuery"
						 Watermark="Find…"
						 Background="#FF2B2B2B"
						 Foreground="#FFEAEAEA"
						 BorderBrush="#FF444444"
						 BorderThickness="1"
						 MinWidth="260"
						 VerticalAlignment="Center"/>

				<StackPanel DockPanel.Dock="Right" Orientation="Horizontal" Spacing="8" Margin="10,0,0,0">
					<TextBlock Name="FindCount"
							   Foreground="#FFCCCCCC"
							   VerticalAlignment="Center"
							   Text="0/0" />

					<Button Name="BtnPrev" Focusable="False" Content="Prev" Background="#33FFFFFF" />
					<Button Name="BtnNext" Focusable="False" Content="Next" Background="#33FFFFFF" />
					<Button Name="BtnCloseFind" Focusable="False" Content="✕" Background="#33FFFFFF" />
				</StackPanel>
			</DockPanel>
		</Border>

		<!-- Left: Original XML -->
		<Border Grid.Row="2" Grid.Column="0"
				Margin="0,8,6,0"
				Background="#FF202020"
				BorderBrush="#FF303030"
				BorderThickness="1"
				CornerRadius="6">
			<Grid RowDefinitions="Auto,*">
				<Border Background="#FF202020" Padding="8">
					<TextBlock Text="Original XML (read-only)" Foreground="#FFCCCCCC"/>
				</Border>

				<Grid Grid.Row="1">
					<TextBox Name="EditorOrigXml"
							 IsReadOnly="True"
							 AcceptsReturn="True"
							 TextWrapping="NoWrap"
							 FontFamily="Consolas"
							 ScrollViewer.VerticalScrollBarVisibility="Visible"
							 ScrollViewer.HorizontalScrollBarVisibility="Visible"/>

					<views:SearchHighlightOverlay Name="HlOrigXml"
												  IsHitTestVisible="False"/>
				</Grid>
			</Grid>
		</Border>

		<GridSplitter Grid.Row="2"
					  Grid.Column="1"
					  Width="6"
					  Background="#FF444444"
					  Margin="0,8,0,0"/>

		<!-- Right: Translated XML -->
		<Border Grid.Row="2" Grid.Column="2"
				Margin="6,8,0,0"
				Background="#FF202020"
				BorderBrush="#FF303030"
				BorderThickness="1"
				CornerRadius="6">
			<Grid RowDefinitions="Auto,*">
				<Border Background="#FF202020" Padding="8">
					<TextBlock Text="Translated XML (editable)" Foreground="#FFCCCCCC"/>
				</Border>

				<Grid Grid.Row="1">
					<TextBox Name="EditorTranXml"
							 IsReadOnly="False"
							 AcceptsReturn="True"
							 TextWrapping="NoWrap"
							 FontFamily="Consolas"
							 ScrollViewer.VerticalScrollBarVisibility="Visible"
							 ScrollViewer.HorizontalScrollBarVisibility="Visible"/>

					<views:SearchHighlightOverlay Name="HlTranXml"
												  IsHitTestVisible="False"/>
				</Grid>
			</Grid>
		</Border>

	</Grid>
</UserControl>
